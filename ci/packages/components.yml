--- # components package # --------------------------------

components lint:
    stage: lint
    script:
        - yarn workspace @trezor/components lint
    only:
        changes:
            - packages/components/**/*
            - packages/components-storybook/**/*
            - .gitlab-ci.yml
    dependencies:
        - install and build

components type check:
    stage: type check
    script:
        - yarn workspace @trezor/components type-check
    only:
        changes:
            - packages/components/**/*
            - packages/components-storybook/**/*
            - .gitlab-ci.yml
    dependencies:
        - install and build

components publish to npm registry:
    stage: publish
    when: manual
    script:
        - yarn workspace @trezor/components publish
    only:
        changes:
            - packages/components/**/*
            - .gitlab-ci.yml
    dependencies:
        - install and build
